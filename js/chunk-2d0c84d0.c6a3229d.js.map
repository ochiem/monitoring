{"version":3,"sources":["webpack:///./src/view/pages/user/UserManager.vue?5c0e","webpack:///src/view/pages/user/UserManager.vue","webpack:///./src/view/pages/user/UserManager.vue?2493","webpack:///./src/view/pages/user/UserManager.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","on","$event","formModal","_v","attrs","listUsers","users","fields","scopedSlots","_u","key","fn","data","value","item","username","modalToken","hapusUser","ref","form","edit","preventDefault","simpanUser","model","callback","$$v","$set","expression","level_akses_options","token_register","copyTokenRegister","token","token_harian","copyTokenHarian","token_berjangka","copyTokenBerjangka","staticRenderFns","tanggal_token","Date","toISOString","substring","tanggal_expired_token","now","nama_lengkap","level_akses","items","watch","computed","md5now","encrypted","expired","getTime","components","mounted","currentUser","console","log","$router","push","$store","dispatch","methods","$refs","show","edititem","title","text","icon","heightAuto","then","showCancelButton","confirmButtonText","result","isConfirmed","focus","select","document","execCommand","$bvToast","toast","variant","solid","timeTest","a","b","c","d","e","f","g","h","i","component"],"mappings":"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","file":"js/chunk-2d0c84d0.c6a3229d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('div',{staticClass:\"card card-custom gutter-b\"},[_c('div',{staticClass:\"card-header\"},[_vm._m(0),_c('div',{staticClass:\"card-toolbar\"},[_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":function($event){return _vm.formModal(null)}}},[_vm._v(\" Add \")])])]),_c('div',{staticClass:\"card-body\"},[_c('b-table',{attrs:{\"hover\":\"\",\"items\":_vm.listUsers,\"fields\":_vm.users.fields},scopedSlots:_vm._u([{key:\"cell(level_akses)\",fn:function(data){return [(data.value == 1)?_c('b-badge',{attrs:{\"variant\":\"info\"}},[_vm._v(\"Admin\")]):_c('b-badge',{attrs:{\"variant\":\"primary\"}},[_vm._v(\"User\")])]}},{key:\"cell(action)\",fn:function(data){return [_c('div',{staticClass:\"text-right\"},[_c('b-button-group',[_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"outline-primary\"},on:{\"click\":function($event){return _vm.formModal(data.item.username)}}},[_c('b-icon-pencil'),_vm._v(\" Edit \")],1),_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"outline-primary\"},on:{\"click\":function($event){return _vm.modalToken(data.item.username)}}},[_c('b-icon-dice6'),_vm._v(\" Login Token \")],1),_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"outline-primary\"},on:{\"click\":function($event){return _vm.hapusUser(data.item.username)}}},[_c('b-icon-trash'),_vm._v(\" Hapus \")],1)],1)],1)]}}])})],1)])])]),_c('b-modal',{ref:\"modal-add-user\",attrs:{\"title\":_vm.form.edit == false ? 'Edit User' : 'Add User'},on:{\"ok\":function($event){$event.preventDefault();return _vm.simpanUser()}}},[_c('b-form',[_c('b-form-group',{attrs:{\"id\":\"ig_username\",\"label\":\"Username:\",\"label-for\":\"input_username\",\"description\":\"username yg sama akan merubah akun yg ada\"}},[_c('b-form-input',{attrs:{\"id\":\"input_username\",\"type\":\"text\",\"placeholder\":\"Username\",\"required\":\"\"},model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1),_c('b-form-group',{attrs:{\"id\":\"ig_nama_lengkap\",\"label\":\"Nama Lengkap:\",\"label-for\":\"input_nama_lengkap\"}},[_c('b-form-input',{attrs:{\"id\":\"input_nama_lengkap\",\"type\":\"text\",\"placeholder\":\"Nama Lengkap\",\"required\":\"\"},model:{value:(_vm.form.nama_lengkap),callback:function ($$v) {_vm.$set(_vm.form, \"nama_lengkap\", $$v)},expression:\"form.nama_lengkap\"}})],1),_c('b-form-group',{attrs:{\"id\":\"ig_level_akses\",\"label\":\"Level Akses:\",\"label-for\":\"input_level_akses\"}},[_c('b-form-select',{attrs:{\"id\":\"input_level_akses\",\"options\":_vm.level_akses_options,\"required\":\"\"},model:{value:(_vm.form.level_akses),callback:function ($$v) {_vm.$set(_vm.form, \"level_akses\", $$v)},expression:\"form.level_akses\"}})],1)],1),_c('b-form-group',{attrs:{\"id\":\"ig_token_register\",\"label\":\"Register Token:\",\"label-for\":\"input_token_register\"}},[_c('b-input-group',[_c('b-form-textarea',{ref:\"input_token_register\",attrs:{\"id\":\"input_token_register\",\"type\":\"textarea\",\"rows\":\"4\",\"placeholder\":\"Token Register\",\"readonly\":\"\",\"value\":_vm.token_register,\"required\":\"\"}}),_c('b-input-group-append',[_c('b-button',{attrs:{\"type\":\"button\",\"size\":\"sm\",\"text\":\"Button\",\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.copyTokenRegister()}}},[_c('b-icon-clipboard')],1)],1)],1)],1)],1),_c('b-modal',{ref:\"modal-token\",attrs:{\"title\":'Token Login',\"ok-only\":\"\"}},[_c('h4',[_vm._v(\"Token Harian\")]),_c('b-form-group',{attrs:{\"id\":\"ig_tanggal_token\",\"label\":\"Tanggal Berlaku:\",\"label-for\":\"input_tanggal_token\"}},[_c('b-form-input',{attrs:{\"id\":\"input_tanggal_token\",\"type\":\"date\",\"placeholder\":\"Tanggal\",\"required\":\"\"},model:{value:(_vm.token.tanggal_token),callback:function ($$v) {_vm.$set(_vm.token, \"tanggal_token\", $$v)},expression:\"token.tanggal_token\"}})],1),_c('b-form-group',{attrs:{\"id\":\"ig_token_harian\",\"label\":\"Login Token:\",\"label-for\":\"input_token_harian\"}},[_c('b-input-group',[_c('b-form-input',{ref:\"input_token_harian\",attrs:{\"id\":\"input_token_harian\",\"type\":\"text\",\"placeholder\":\"Token\",\"readonly\":\"\",\"value\":_vm.token_harian,\"required\":\"\"}}),_c('b-input-group-append',[_c('b-button',{attrs:{\"type\":\"button\",\"size\":\"sm\",\"text\":\"Button\",\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.copyTokenHarian()}}},[_c('b-icon-clipboard')],1)],1)],1)],1),_c('h4',[_vm._v(\"Token Berjangka\")]),_c('b-form-group',{attrs:{\"id\":\"ig_tanggal_expired_token\",\"label\":\"Berlaku Hingga:\",\"label-for\":\"input_tanggal_expired_token\"}},[_c('b-form-input',{attrs:{\"id\":\"input_tanggal_expired_token\",\"type\":\"datetime-local\",\"placeholder\":\"Tanggal\",\"required\":\"\"},model:{value:(_vm.token.tanggal_expired_token),callback:function ($$v) {_vm.$set(_vm.token, \"tanggal_expired_token\", $$v)},expression:\"token.tanggal_expired_token\"}})],1),_c('b-form-group',{attrs:{\"id\":\"ig_token_berjangka\",\"label\":\"Login Token Berjangka:\",\"label-for\":\"input_token_berjangka\"}},[_c('b-input-group',[_c('b-form-textarea',{ref:\"input_token_berjangka\",attrs:{\"id\":\"input_token_berjangka\",\"type\":\"textarea\",\"rows\":\"4\",\"placeholder\":\"Login Token Berjangka\",\"readonly\":\"\",\"value\":_vm.token_berjangka,\"required\":\"\"}}),_c('b-input-group-append',[_c('b-button',{attrs:{\"type\":\"button\",\"size\":\"sm\",\"text\":\"Button\",\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.copyTokenBerjangka()}}},[_c('b-icon-clipboard')],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-title\"},[_c('h3',{staticClass:\"card-label\"},[_vm._v(\"User\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12\">\r\n        <div class=\"card card-custom gutter-b\">\r\n          <div class=\"card-header\">\r\n            <div class=\"card-title\">\r\n              <h3 class=\"card-label\">User</h3>\r\n            </div>\r\n            <div class=\"card-toolbar\">\r\n              <button @click=\"formModal(null)\" class=\"btn btn-primary\">\r\n                Add\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div class=\"card-body\">\r\n            <b-table hover :items=\"listUsers\" :fields=\"users.fields\">\r\n              <template #cell(level_akses)=\"data\">\r\n                <b-badge v-if=\"data.value == 1\" variant=\"info\">Admin</b-badge>\r\n                <b-badge v-else variant=\"primary\">User</b-badge>\r\n              </template>\r\n              <template #cell(action)=\"data\">\r\n                <div class=\"text-right\">\r\n                  <b-button-group>\r\n                    <b-button size=\"sm\" variant=\"outline-primary\" @click=\"formModal(data.item.username)\"> <b-icon-pencil /> Edit </b-button>\r\n                    <b-button size=\"sm\" variant=\"outline-primary\" @click=\"modalToken(data.item.username)\"> <b-icon-dice6 /> Login Token </b-button>\r\n                    <b-button size=\"sm\" variant=\"outline-primary\" @click=\"hapusUser(data.item.username)\"> <b-icon-trash /> Hapus </b-button>\r\n                  </b-button-group>\r\n                </div>\r\n              </template>\r\n            </b-table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <b-modal ref=\"modal-add-user\" v-bind:title=\"form.edit == false ? 'Edit User' : 'Add User'\" @ok.prevent=\"simpanUser()\">\r\n      <b-form>\r\n        <b-form-group id=\"ig_username\" label=\"Username:\" label-for=\"input_username\" description=\"username yg sama akan merubah akun yg ada\">\r\n          <b-form-input id=\"input_username\" type=\"text\" v-model=\"form.username\" placeholder=\"Username\" required></b-form-input>\r\n        </b-form-group>\r\n        <b-form-group id=\"ig_nama_lengkap\" label=\"Nama Lengkap:\" label-for=\"input_nama_lengkap\">\r\n          <b-form-input id=\"input_nama_lengkap\" type=\"text\" v-model=\"form.nama_lengkap\" placeholder=\"Nama Lengkap\" required></b-form-input>\r\n        </b-form-group>\r\n        <b-form-group id=\"ig_level_akses\" label=\"Level Akses:\" label-for=\"input_level_akses\">\r\n          <b-form-select id=\"input_level_akses\" v-model=\"form.level_akses\" :options=\"level_akses_options\" required></b-form-select>\r\n        </b-form-group>\r\n      </b-form>\r\n      <b-form-group id=\"ig_token_register\" label=\"Register Token:\" label-for=\"input_token_register\">\r\n        <b-input-group>\r\n          <b-form-textarea id=\"input_token_register\" ref=\"input_token_register\" type=\"textarea\" rows=\"4\" placeholder=\"Token Register\" readonly v-bind:value=\"token_register\" required></b-form-textarea>\r\n          <b-input-group-append>\r\n            <b-button type=\"button\" @click=\"copyTokenRegister()\" size=\"sm\" text=\"Button\" variant=\"primary\"><b-icon-clipboard /></b-button>\r\n          </b-input-group-append>\r\n        </b-input-group>\r\n      </b-form-group>\r\n    </b-modal>\r\n    <b-modal ref=\"modal-token\" v-bind:title=\"'Token Login'\" ok-only>\r\n      <h4>Token Harian</h4>\r\n      <b-form-group id=\"ig_tanggal_token\" label=\"Tanggal Berlaku:\" label-for=\"input_tanggal_token\">\r\n        <b-form-input id=\"input_tanggal_token\" type=\"date\" placeholder=\"Tanggal\" v-model=\"token.tanggal_token\" required></b-form-input>\r\n      </b-form-group>\r\n      <b-form-group id=\"ig_token_harian\" label=\"Login Token:\" label-for=\"input_token_harian\">\r\n        <b-input-group>\r\n          <b-form-input id=\"input_token_harian\" ref=\"input_token_harian\" type=\"text\" placeholder=\"Token\" readonly v-bind:value=\"token_harian\" required></b-form-input>\r\n          <b-input-group-append>\r\n            <b-button type=\"button\" @click=\"copyTokenHarian()\" size=\"sm\" text=\"Button\" variant=\"primary\"><b-icon-clipboard /></b-button>\r\n          </b-input-group-append>\r\n        </b-input-group>\r\n      </b-form-group>\r\n      <h4>Token Berjangka</h4>\r\n      <b-form-group id=\"ig_tanggal_expired_token\" label=\"Berlaku Hingga:\" label-for=\"input_tanggal_expired_token\">\r\n        <b-form-input id=\"input_tanggal_expired_token\" type=\"datetime-local\" placeholder=\"Tanggal\" v-model=\"token.tanggal_expired_token\" required></b-form-input>\r\n      </b-form-group>\r\n      <b-form-group id=\"ig_token_berjangka\" label=\"Login Token Berjangka:\" label-for=\"input_token_berjangka\">\r\n        <b-input-group>\r\n          <b-form-textarea\r\n            id=\"input_token_berjangka\"\r\n            ref=\"input_token_berjangka\"\r\n            type=\"textarea\"\r\n            rows=\"4\"\r\n            placeholder=\"Login Token Berjangka\"\r\n            readonly\r\n            v-bind:value=\"token_berjangka\"\r\n            required\r\n          ></b-form-textarea>\r\n          <b-input-group-append>\r\n            <b-button type=\"button\" @click=\"copyTokenBerjangka()\" size=\"sm\" text=\"Button\" variant=\"primary\"><b-icon-clipboard /></b-button>\r\n          </b-input-group-append>\r\n        </b-input-group>\r\n      </b-form-group>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { SET_BREADCRUMB } from \"@/core/services/store/breadcrumbs.module\";\r\nimport Swal from \"sweetalert2\";\r\nimport { mapGetters } from \"vuex\";\r\nimport CryptoService from \"@/core/services/crypto.service\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      token: {\r\n        username: \"\",\r\n        tanggal_token: new Date().toISOString().substring(0, 10),\r\n        tanggal_expired_token: new Date(Date.now() + 1000 * 60 * 60 * 24 * 7).toISOString().substring(0, 16),\r\n      },\r\n      form: {\r\n        edit: false,\r\n        username: \"\",\r\n        nama_lengkap: \"\",\r\n        level_akses: 0,\r\n      },\r\n      level_akses_options: [\r\n        { text: \"Administrator\", value: 1 },\r\n        { text: \"Pengguna\", value: 0 },\r\n      ],\r\n      users: {\r\n        // Note 'isActive' is left out and will not appear in the rendered table\r\n        fields: [\r\n          {\r\n            key: \"username\",\r\n            label: \"Username\",\r\n            sortable: true,\r\n          },\r\n          {\r\n            key: \"nama_lengkap\",\r\n            label: \"Nama lengkap\",\r\n            sortable: true,\r\n          },\r\n          {\r\n            key: \"level_akses\",\r\n            label: \"Level akses\",\r\n            sortable: true,\r\n          },\r\n          {\r\n            key: \"action\",\r\n            label: \"\",\r\n            sortable: false,\r\n          },\r\n        ],\r\n        items: [\r\n          {\r\n            username: \"test\",\r\n            nama_lengkap: \"Dickerson\",\r\n            level_akses: 1,\r\n          },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  watch: {},\r\n  computed: {\r\n    ...mapGetters([\"listUsers\", \"currentUser\"]),\r\n    token_harian() {\r\n      let md5now = CryptoService.md5(\r\n        JSON.stringify({\r\n          appid: \"bismillah\",\r\n          username: this.token.username,\r\n          date: this.token.tanggal_token,\r\n        }),\r\n      );\r\n      return md5now;\r\n    },\r\n    token_register() {\r\n      let encrypted = CryptoService.encrypt(\r\n        JSON.stringify({\r\n          username: this.form.username,\r\n          nama_lengkap: this.form.nama_lengkap,\r\n          level_akses: this.form.level_akses,\r\n          tanggal: Date.now(),\r\n          entropy: \"a\",\r\n        }),\r\n      );\r\n      return encrypted;\r\n    },\r\n    token_berjangka() {\r\n      if (this.token.tanggal_expired_token == null) {\r\n        return \"\";\r\n      }\r\n      let payload = JSON.stringify({\r\n        username: this.token.username,\r\n        expired: new Date(this.token.tanggal_expired_token).getTime(),\r\n      });\r\n      let encrypted = CryptoService.encrypt(payload);\r\n      return encrypted;\r\n    },\r\n  },\r\n  components: {},\r\n  mounted() {\r\n    //admin only\r\n    if (!this.currentUser.level_akses == \"1\") {\r\n      console.log(this.currentUser);\r\n      this.$router.push({ name: \"restricted\" });\r\n    }\r\n    this.$store.dispatch(SET_BREADCRUMB, [{ title: \"User\" }, { title: \"User Manager\" }]);\r\n  },\r\n  methods: {\r\n    modalToken(username) {\r\n      this.token.username = username;\r\n      this.$refs[\"modal-token\"].show();\r\n    },\r\n    formModal(username) {\r\n      if (username == null) {\r\n        this.form = {\r\n          edit: false,\r\n          username: \"\",\r\n          nama_lengkap: \"\",\r\n          level_akses: 0,\r\n        };\r\n      } else {\r\n        let edititem = this.listUsers.find(item => item.username == username);\r\n        this.form = {\r\n          edit: edititem.username,\r\n          username: edititem.username,\r\n          nama_lengkap: edititem.nama_lengkap,\r\n          level_akses: edititem.level_akses,\r\n        };\r\n      }\r\n      this.$refs[\"modal-add-user\"].show();\r\n    },\r\n    simpanUser() {\r\n      if (this.form.username == \"\" || this.form.nama_lengkap == \"\") {\r\n        Swal.fire({\r\n          title: \"Salah!\",\r\n          text: \"Data tidak lengkap\",\r\n          icon: \"error\",\r\n          heightAuto: false,\r\n        });\r\n        return false;\r\n      }\r\n      this.$store.dispatch(\"saveUser\", this.form).then(() => {\r\n        this.$refs[\"modal-add-user\"].hide();\r\n        Swal.fire({\r\n          title: \"Berhasil!\",\r\n          text: \"User berhasil disimpan\",\r\n          icon: \"success\",\r\n          heightAuto: false,\r\n        });\r\n      });\r\n    },\r\n    hapusUser(username) {\r\n      Swal.fire({\r\n        title: \"Apakah anda yakin?\",\r\n        text: \"Data \" + username + \" akan dihapus permanen\",\r\n        icon: \"warning\",\r\n        showCancelButton: true,\r\n        confirmButtonText: \"Yes, delete it!\",\r\n      }).then(result => {\r\n        if (result.isConfirmed) {\r\n          this.$store.dispatch(\"deleteUser\", username).then(() => {\r\n            Swal.fire({\r\n              title: \"Berhasil!\",\r\n              text: \"User berhasil dihapus\",\r\n              icon: \"success\",\r\n              heightAuto: false,\r\n            });\r\n          });\r\n        }\r\n      });\r\n    },\r\n    copyTokenHarian() {\r\n      this.$refs[\"input_token_harian\"].focus();\r\n      this.$refs[\"input_token_harian\"].select();\r\n      try {\r\n        document.execCommand(\"copy\");\r\n        this.$bvToast.toast(\"Token \" + this.$refs[\"input_token_harian\"].value + \" berhasil di copy\", {\r\n          title: `Copy Token`,\r\n          variant: \"success\",\r\n          solid: true,\r\n        });\r\n      } catch (err) {\r\n        console.log(\"Oops, unable to copy\");\r\n      }\r\n    },\r\n    copyTokenRegister() {\r\n      this.$refs[\"input_token_register\"].focus();\r\n      this.$refs[\"input_token_register\"].select();\r\n      try {\r\n        document.execCommand(\"copy\");\r\n        this.$bvToast.toast(\"Token register berhasil di copy\", {\r\n          title: `Copy Token`,\r\n          variant: \"success\",\r\n          solid: true,\r\n        });\r\n      } catch (err) {\r\n        console.log(\"Oops, unable to copy\");\r\n      }\r\n    },\r\n    copyTokenBerjangka() {\r\n      this.timeTest();\r\n      this.$refs[\"input_token_berjangka\"].focus();\r\n      this.$refs[\"input_token_berjangka\"].select();\r\n      try {\r\n        document.execCommand(\"copy\");\r\n        this.$bvToast.toast(\"Token berjangka berhasil di copy\", {\r\n          title: `Copy Token`,\r\n          variant: \"success\",\r\n          solid: true,\r\n        });\r\n      } catch (err) {\r\n        console.log(\"Oops, unable to copy\");\r\n      }\r\n    },\r\n    timeTest() {\r\n      let tzoffset = new Date().getTimezoneOffset() * 60 * 1000; //offset in milliseconds\r\n      let a = this.token.tanggal_expired_token; //inputan (GMT+7)\r\n      let b = new Date(a).getTime(); //inputan versi timestamp (GMT0)\r\n      let c = new Date(b).toISOString(); //inputan versi iso (GMT0)\r\n      let d = new Date(b - tzoffset).toISOString(); //inputan versi offset local (GMT+7)\r\n      let e = Date.now(); //browser timestamp (GMT0)\r\n      let f = new Date(e).toISOString(); //browser versi iso (GMT0)\r\n      let g = new Date(e - tzoffset).toISOString(); //browser versi offset local (GMT+7)\r\n\r\n      let h = new Date(a + \":59\").getTime(); //inputan versi timestamp+59 (GMT0)\r\n      let i = new Date(a + \":59\").toISOString(); //inputan versi iso+59 (GMT0)\r\n      console.log(a);\r\n      console.log(b);\r\n      console.log(c);\r\n      console.log(d);\r\n      console.log(e);\r\n      console.log(f);\r\n      console.log(g);\r\n      console.log(h);\r\n      console.log(i);\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserManager.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserManager.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserManager.vue?vue&type=template&id=56fdadb2&\"\nimport script from \"./UserManager.vue?vue&type=script&lang=js&\"\nexport * from \"./UserManager.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}