(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-65d3e0ec"],{"0ccb":function(t,i,e){var n=e("50c4"),s=e("1148"),a=e("1d80"),r=Math.ceil,l=function(t){return function(i,e,l){var o,c,d=String(a(i)),h=d.length,u=void 0===l?" ":String(l),_=n(e);return _<=h||""==u?d:(o=_-h,c=s.call(u,r(o/u.length)),c.length>o&&(c=c.slice(0,o)),t?d+c:c+d)}};t.exports={start:l(!1),end:l(!0)}},"843c":function(t,i,e){"use strict";var n=e("23e7"),s=e("0ccb").end,a=e("9a0c");n({target:"String",proto:!0,forced:a},{padEnd:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},"9a0c":function(t,i,e){var n=e("342f");t.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(n)},c559:function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"card card-custom gutter-b"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"card-title"},[e("h3",{staticClass:"card-label"},[t._v(" Sinyal "),t.threshold>0?e("span",{staticClass:"badge",staticStyle:{"background-color":"#00ff00"}},[t._v(t._s(t.threshold))]):t._e()])]),e("div",{staticClass:"card-toolbar"},[t.running_request>0?e("span",{staticClass:"text-muted"},[e("b-spinner",{attrs:{small:""}}),t._v(" "+t._s(t.running_request)+" API Call Running ")],1):e("button",{staticClass:"btn btn-primary",attrs:{disabled:t.sinyal.fetching},on:{click:function(i){return t.startFetchSinyal()}}},[e("b-icon-clock"),t._v(" Refresh")],1)])]),e("div",{staticClass:"card-body"},[e("b-row"),e("b-row",[e("b-col",{attrs:{md:"3"}},[e("b-form-group",{attrs:{id:"modal_kiri",label:"Modal Kiri:","label-cols-sm":"6","label-align-sm":"right","label-for":"modal_kiri"}},[e("b-form-input",{attrs:{id:"modal_kiri",type:"number",placeholder:"Modal Kiri",value:t.modal_kiri,required:""},on:{input:t.updateModalKiri}})],1)],1),e("b-col",{attrs:{md:"3"}},[e("b-form-group",{attrs:{id:"modal_kanan",label:"Modal Kanan:","label-cols-sm":"6","label-align-sm":"right","label-for":"modal_kanan"}},[e("b-form-input",{attrs:{id:"modal_kanan",type:"number",placeholder:"Modal Kanan",value:t.modal_kanan,required:""},on:{input:t.updateModalKanan}})],1)],1),e("b-col",{attrs:{md:"3"}},[e("b-form-group",{attrs:{id:"limit_threshold",label:"Limit Selisih:","label-cols-sm":"6","label-align-sm":"right","label-for":"limit_threshold"}},[e("b-form-input",{attrs:{id:"limit_threshold",type:"number",placeholder:"Limit Selisih",required:""},model:{value:t.limit_threshold,callback:function(i){t.limit_threshold=i},expression:"limit_threshold"}})],1)],1),e("b-col",{staticClass:"text-right",attrs:{md:"3"}},[e("span",{},[t._v("Last Fetch:"+t._s(t.lastFetchSinyal))])])],1),e("b-table",{attrs:{bordered:"","sticky-header":"900px","head-variant":"dark",responsive:"",hover:"",items:t.listSinyal,fields:t.sinyal.fields,"tbody-tr-class":t.rowClass},scopedSlots:t._u([{key:"cell(symbol)",fn:function(i){return[e("a",{attrs:{href:t.listSettings.url_coin+i.item.coin_address,target:"_pasar"}},[t._v(t._s(i.value))])]}},{key:"cell(binance_ask_price)",fn:function(i){return[e("span",{domProps:{innerHTML:t._s(i.value)}})]}},{key:"cell(binance_bid_price)",fn:function(i){return[e("span",{domProps:{innerHTML:t._s(i.value)}})]}},{key:"cell(inch_usdt)",fn:function(i){return[e("span",{domProps:{innerHTML:t._s(i.value)}})]}},{key:"cell(selisih_pnl_kiri)",fn:function(i){return[e("span",{class:{"bg-primary text-white p-2":parseFloat(i.value)>=parseFloat(t.limit_threshold)},domProps:{innerHTML:t._s(i.value)}})]}},{key:"cell(selisih_pnl_kiri_persen)",fn:function(i){return[e("span",{domProps:{innerHTML:t._s(i.value)}})]}},{key:"cell(inch_price)",fn:function(i){return[e("span",{domProps:{innerHTML:t._s(i.value)}})]}},{key:"cell(selisih_pnl_kanan)",fn:function(i){return[e("span",{class:{"bg-primary text-white p-2":parseFloat(i.value)>=parseFloat(t.limit_threshold)},domProps:{innerHTML:t._s(i.value)}})]}},{key:"cell(selisih_pnl_kanan_persen)",fn:function(i){return[e("span",{domProps:{innerHTML:t._s(i.value)}})]}},{key:"cell(modal_kiri)",fn:function(i){return[e("input",{staticClass:"form-control",attrs:{type:"number"},domProps:{value:i.value},on:{input:function(e){return t.indvModal(e,i.item.symbol,"kiri")}}})]}},{key:"cell(modal_kanan)",fn:function(i){return[e("input",{staticClass:"form-control",attrs:{type:"number"},domProps:{value:i.value},on:{input:function(e){return t.indvModal(e,i.item.symbol,"kanan")}}})]}}])},[e("template",{staticStyle:{position:"sticky"},slot:"thead-top"},[e("b-tr",[e("b-th"),e("b-th",{attrs:{colspan:"1"}},[t._v("BINANCE")]),e("b-th",{attrs:{colspan:"1"}},[t._v("1INCH")]),e("b-th",{attrs:{colspan:"2",variant:"primary"}},[t._v("SELISIH")]),e("b-th",[t._v("SYMBOL")]),e("b-th"),e("b-th",{attrs:{colspan:"1"}},[t._v("BINANCE")]),e("b-th",{attrs:{colspan:"1"}},[t._v("1INCH")]),e("b-th",{attrs:{colspan:"2",variant:"primary"}},[t._v("SELISIH")])],1)],1)],2)],1)])])])])},s=[],a=e("ade3"),r=e("5530"),l=(e("159b"),e("843c"),e("b680"),e("a9e3"),e("7db0"),e("d3b7"),e("25f0"),e("0bce")),o=e("2f62"),c=e("bc3a"),d=e.n(c),h=e("3d20"),u=e.n(h),_={data:function(){return{sinyal:{fetching:!1,totalRows:1,currentPage:1,perPage:200,filter:null,filterOn:["symbol"],fields:[{key:"modal_kiri",label:"Modal",sortable:!1,tdClass:"text-right",thStyle:{width:"100px"}},{key:"binance_ask_price",label:"Price (Ask)",sortable:!1,tdClass:"text-right"},{key:"inch_usdt",label:"USDT",sortable:!1,tdClass:"text-right"},{key:"selisih_pnl_kiri",label:"PNL",sortable:!1,tdClass:"text-right"},{key:"selisih_pnl_kiri_persen",label:"%",sortable:!1,tdClass:"text-right"},{key:"symbol",label:"Coin",sortable:!0,tdClass:"text-center font-weight-bold bg-grey-100"},{key:"modal_kanan",label:"Modal",sortable:!1,tdClass:"text-right",thStyle:{width:"100px"}},{key:"binance_bid_price",label:"Price (Bid)",sortable:!1,tdClass:"text-right"},{key:"inch_price",label:"Price",sortable:!1,tdClass:"text-right"},{key:"selisih_pnl_kanan",label:"PNL",sortable:!1,tdClass:"text-right"},{key:"selisih_pnl_kanan_persen",label:"%",sortable:!1,tdClass:"text-right"}],items:[]},modal_kiri:0,modal_kanan:0,running_request:0,threshold:0,limit_threshold:3}},components:{},watch:{limit_threshold:function(){var t=this;this.threshold=0,console.log(this.limit_threshold),this.listSinyal.forEach((function(i){(parseFloat(i.selisih_pnl_kanan)>=t.limit_threshold||parseFloat(i.selisih_pnl_kiri)>=t.limit_threshold)&&t.threshold++}))}},computed:Object(r["a"])({},Object(o["b"])(["listSinyal","lastFetchSinyal","listSettings"])),mounted:function(){this.modal_kiri=this.listSettings.modal_kiri||0,this.modal_kanan=this.listSettings.modal_kanan||0,this.$store.dispatch(l["a"],[{title:"Market Watch"}])},methods:{indvModal:function(t,i,e){console.log(t.target.value,i,e),this.fetchSinyal(i,Object(a["a"])({},"modal_"+e,t.target.value))},updateModalKiri:function(t){this.$store.dispatch("settingSet",{name:"modal_kiri",value:t})},updateModalKanan:function(t){this.$store.dispatch("settingSet",{name:"modal_kanan",value:t})},rowClass:function(t,i){if(t&&"row"===i)return parseFloat(t.selisih_pnl_kanan)>=this.limit_threshold||parseFloat(t.selisih_pnl_kiri)>=this.limit_threshold?"bg-green":void 0},refreshSinyal:function(){this.$store.dispatch("registerSinyal")},test2:function(){var t=400,i=BigInt("358516543755854128279"),e=BigInt("1".padEnd(19,"0")),n=(Number(100n*i/e)/100-t).toFixed(2);console.log(e),console.log(n)},test3:function(){var t="1INCH",i=this.$store.state.coin.coins.find((function(i){return i.nama_coin==t})),e=400,n=5.2024,s=e/n*Math.pow(10,parseInt(i.desimal));console.log(s.toString())},test4:function(){var t=this.modal_kanan*Math.pow(10,18);console.log(t)},startFetchSinyal:function(){var t=this;this.running_request++,this.threshold=0,this.$store.dispatch("clearSinyal").then((function(){t.$store.dispatch("updateBookTicker").then((function(i){console.log("respon",i),"ok"!=i.status?u.a.fire({title:"Gagal memuat book ticker!",text:i.message,icon:"error",heightAuto:!1}):(t.running_request-=1,t.$store.dispatch("registerSinyal").then((function(){t.listSinyal.forEach((function(i){t.fetchSinyal(i.symbol)}))})),t.$bvToast.toast("Book Ticker berhasil binance di update",{title:"Binance Book Ticker",variant:"success",solid:!0}))}))}))},fetchSinyal:function(t,i){var e=this;this.running_request+=2;var n=this.listSinyal.find((function(i){return i.symbol==t})),s=this.$store.state.coin.coins.find((function(i){return i.nama_coin==t}));if(void 0==i&&(i={}),this.$store.dispatch("updateSinyal",{symbol:t,value:Object(r["a"])(Object(r["a"])({},i),{},{selisih_pnl_kiri:"<div class='spinner-border spinner-border-sm'></div>",inch_usdt:"<div class='spinner-border spinner-border-sm'></div>",selisih_pnl_kiri_persen:"<div class='spinner-border spinner-border-sm'></div>",inch_sum:"<div class='spinner-border spinner-border-sm'></div>",inch_price:"<div class='spinner-border spinner-border-sm'></div>",selisih_pnl_kanan:"<div class='spinner-border spinner-border-sm'></div>",selisih_pnl_kanan_persen:"<div class='spinner-border spinner-border-sm'></div>"})}),0==n.binance_ask_price)return this.$store.dispatch("updateSinyal",{symbol:t,value:Object(r["a"])(Object(r["a"])({},i),{},{selisih_pnl_kiri:0,inch_usdt:0,selisih_pnl_kiri_persen:0,inch_sum:0,inch_price:0,selisih_pnl_kanan:0,selisih_pnl_kanan_persen:0})}),this.running_request-=2,!0;var a=(n.modal_kiri/n.binance_ask_price*Math.pow(10,parseInt(s.desimal))).toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:0});console.log(a),d.a.get("https://api.1inch.exchange/v3.0/56/quote",{params:{fromTokenAddress:s.coin_address,toTokenAddress:this.$store.state.setting.settings.busd_address,amount:a}}).then((function(i){e.running_request-=1;var a=i.data,r=BigInt(a.toTokenAmount),l=BigInt("1".padEnd(19,"0")),o=Number(100n*r/l)/100-n.modal_kiri,c=(parseInt(n.modal_kiri)+o)/(parseInt(n.modal_kiri)/n.binance_ask_price),h=(c-n.binance_ask_price)/n.binance_ask_price*100;e.$store.dispatch("updateSinyal",{symbol:t,value:{selisih_pnl_kiri:o.toFixed(2),inch_usdt:c.toFixed(7),selisih_pnl_kiri_persen:h.toFixed(2)}});var u=BigInt(n.modal_kanan*Math.pow(10,18)).toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:0});d.a.get("https://api.1inch.exchange/v3.0/56/quote",{params:{fromTokenAddress:e.$store.state.setting.settings.busd_address,toTokenAddress:s.coin_address,amount:u}}).then((function(i){e.running_request-=1;var a=i.data,r=BigInt(a.toTokenAmount),l=BigInt("1".padEnd(parseInt(s.desimal)+1,"0")),c=Number(100n*r/l)/100,d=0==c?0:n.modal_kanan/c,h=c*n.binance_bid_price-n.modal_kanan,u=0==c?0:(n.binance_bid_price-d)/d*100;(h>=e.limit_threshold||o>=e.limit_threshold)&&e.threshold++,e.$store.dispatch("updateSinyal",{symbol:t,value:{inch_sum:c.toFixed(2),inch_price:d.toFixed(7),selisih_pnl_kanan:h.toFixed(2),selisih_pnl_kanan_persen:u.toFixed(2)}})})).catch((function(i){e.running_request-=1,e.$bvToast.toast("Error saat menghubungi 1INCH untuk koin "+t,{title:"API Error",variant:"danger",solid:!1}),e.$store.dispatch("updateSinyal",{symbol:t,value:{inch_sum:0,inch_price:0,selisih_pnl_kanan:0,selisih_pnl_kanan_persen:0}}),console.log("Fetching 1inch error",i)}))})).catch((function(i){e.running_request-=2,e.$bvToast.toast("Error saat menghubungi 1INCH untuk koin "+t,{title:"API Error",variant:"danger",solid:!1}),e.$store.dispatch("updateSinyal",{symbol:t,value:{selisih_pnl_kiri:"error",inch_usdt:"error",selisih_pnl_kiri_persen:"error",inch_sum:"error",inch_price:"error",selisih_pnl_kanan:"error",selisih_pnl_kanan_persen:"error"}}),console.log("Fetching 1inch error",i)}))}}},p=_,b=e("2877"),m=Object(b["a"])(p,n,s,!1,null,null,null);i["default"]=m.exports}}]);
//# sourceMappingURL=chunk-65d3e0ec.6e8b056f.js.map