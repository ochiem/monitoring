(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c84d0"],{"53fb":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12"},[n("div",{staticClass:"card card-custom gutter-b"},[n("div",{staticClass:"card-header"},[e._m(0),n("div",{staticClass:"card-toolbar"},[n("button",{staticClass:"btn btn-primary",on:{click:function(t){return e.formModal(null)}}},[e._v(" Add ")])])]),n("div",{staticClass:"card-body"},[n("b-table",{attrs:{hover:"",items:e.listUsers,fields:e.users.fields},scopedSlots:e._u([{key:"cell(level_akses)",fn:function(t){return[1==t.value?n("b-badge",{attrs:{variant:"info"}},[e._v("Admin")]):n("b-badge",{attrs:{variant:"primary"}},[e._v("User")])]}},{key:"cell(action)",fn:function(t){return[n("div",{staticClass:"text-right"},[n("b-button-group",[n("b-button",{attrs:{size:"sm",variant:"outline-primary"},on:{click:function(n){return e.formModal(t.item.username)}}},[n("b-icon-pencil"),e._v(" Edit ")],1),n("b-button",{attrs:{size:"sm",variant:"outline-primary"},on:{click:function(n){return e.modalToken(t.item.username)}}},[n("b-icon-dice6"),e._v(" Login Token ")],1),n("b-button",{attrs:{size:"sm",variant:"outline-primary"},on:{click:function(n){return e.hapusUser(t.item.username)}}},[n("b-icon-trash"),e._v(" Hapus ")],1)],1)],1)]}}])})],1)])])]),n("b-modal",{ref:"modal-add-user",attrs:{title:0==e.form.edit?"Edit User":"Add User"},on:{ok:function(t){return t.preventDefault(),e.simpanUser()}}},[n("b-form",[n("b-form-group",{attrs:{id:"ig_username",label:"Username:","label-for":"input_username",description:"username yg sama akan merubah akun yg ada"}},[n("b-form-input",{attrs:{id:"input_username",type:"text",placeholder:"Username",required:""},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),n("b-form-group",{attrs:{id:"ig_nama_lengkap",label:"Nama Lengkap:","label-for":"input_nama_lengkap"}},[n("b-form-input",{attrs:{id:"input_nama_lengkap",type:"text",placeholder:"Nama Lengkap",required:""},model:{value:e.form.nama_lengkap,callback:function(t){e.$set(e.form,"nama_lengkap",t)},expression:"form.nama_lengkap"}})],1),n("b-form-group",{attrs:{id:"ig_level_akses",label:"Level Akses:","label-for":"input_level_akses"}},[n("b-form-select",{attrs:{id:"input_level_akses",options:e.level_akses_options,required:""},model:{value:e.form.level_akses,callback:function(t){e.$set(e.form,"level_akses",t)},expression:"form.level_akses"}})],1)],1),n("b-form-group",{attrs:{id:"ig_token_register",label:"Register Token:","label-for":"input_token_register"}},[n("b-input-group",[n("b-form-textarea",{ref:"input_token_register",attrs:{id:"input_token_register",type:"textarea",rows:"4",placeholder:"Token Register",readonly:"",value:e.token_register,required:""}}),n("b-input-group-append",[n("b-button",{attrs:{type:"button",size:"sm",text:"Button",variant:"primary"},on:{click:function(t){return e.copyTokenRegister()}}},[n("b-icon-clipboard")],1)],1)],1)],1)],1),n("b-modal",{ref:"modal-token",attrs:{title:"Token Login","ok-only":""}},[n("h4",[e._v("Token Harian")]),n("b-form-group",{attrs:{id:"ig_tanggal_token",label:"Tanggal Berlaku:","label-for":"input_tanggal_token"}},[n("b-form-input",{attrs:{id:"input_tanggal_token",type:"date",placeholder:"Tanggal",required:""},model:{value:e.token.tanggal_token,callback:function(t){e.$set(e.token,"tanggal_token",t)},expression:"token.tanggal_token"}})],1),n("b-form-group",{attrs:{id:"ig_token_harian",label:"Login Token:","label-for":"input_token_harian"}},[n("b-input-group",[n("b-form-input",{ref:"input_token_harian",attrs:{id:"input_token_harian",type:"text",placeholder:"Token",readonly:"",value:e.token_harian,required:""}}),n("b-input-group-append",[n("b-button",{attrs:{type:"button",size:"sm",text:"Button",variant:"primary"},on:{click:function(t){return e.copyTokenHarian()}}},[n("b-icon-clipboard")],1)],1)],1)],1),n("h4",[e._v("Token Berjangka")]),n("b-form-group",{attrs:{id:"ig_tanggal_expired_token",label:"Berlaku Hingga:","label-for":"input_tanggal_expired_token"}},[n("b-form-input",{attrs:{id:"input_tanggal_expired_token",type:"datetime-local",placeholder:"Tanggal",required:""},model:{value:e.token.tanggal_expired_token,callback:function(t){e.$set(e.token,"tanggal_expired_token",t)},expression:"token.tanggal_expired_token"}})],1),n("b-form-group",{attrs:{id:"ig_token_berjangka",label:"Login Token Berjangka:","label-for":"input_token_berjangka"}},[n("b-input-group",[n("b-form-textarea",{ref:"input_token_berjangka",attrs:{id:"input_token_berjangka",type:"textarea",rows:"4",placeholder:"Login Token Berjangka",readonly:"",value:e.token_berjangka,required:""}}),n("b-input-group-append",[n("b-button",{attrs:{type:"button",size:"sm",text:"Button",variant:"primary"},on:{click:function(t){return e.copyTokenBerjangka()}}},[n("b-icon-clipboard")],1)],1)],1)],1)],1)],1)},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card-title"},[n("h3",{staticClass:"card-label"},[e._v("User")])])}],o=n("5530"),i=(n("7db0"),n("0bce")),s=n("3d20"),l=n.n(s),u=n("2f62"),c=n("d9db"),p={data:function(){return{token:{username:"",tanggal_token:(new Date).toISOString().substring(0,10),tanggal_expired_token:new Date(Date.now()+6048e5).toISOString().substring(0,16)},form:{edit:!1,username:"",nama_lengkap:"",level_akses:0},level_akses_options:[{text:"Administrator",value:1},{text:"Pengguna",value:0}],users:{fields:[{key:"username",label:"Username",sortable:!0},{key:"nama_lengkap",label:"Nama lengkap",sortable:!0},{key:"level_akses",label:"Level akses",sortable:!0},{key:"action",label:"",sortable:!1}],items:[{username:"test",nama_lengkap:"Dickerson",level_akses:1}]}}},watch:{},computed:Object(o["a"])(Object(o["a"])({},Object(u["b"])(["listUsers","currentUser"])),{},{token_harian:function(){var e=c["a"].md5(JSON.stringify({appid:"bismillah",username:this.token.username,date:this.token.tanggal_token}));return e},token_register:function(){var e=c["a"].encrypt(JSON.stringify({username:this.form.username,nama_lengkap:this.form.nama_lengkap,level_akses:this.form.level_akses,tanggal:Date.now(),entropy:"a"}));return e},token_berjangka:function(){if(null==this.token.tanggal_expired_token)return"";var e=JSON.stringify({username:this.token.username,expired:new Date(this.token.tanggal_expired_token).getTime()}),t=c["a"].encrypt(e);return t}}),components:{},mounted:function(){"1"==!this.currentUser.level_akses&&(console.log(this.currentUser),this.$router.push({name:"restricted"})),this.$store.dispatch(i["a"],[{title:"User"},{title:"User Manager"}])},methods:{modalToken:function(e){this.token.username=e,this.$refs["modal-token"].show()},formModal:function(e){if(null==e)this.form={edit:!1,username:"",nama_lengkap:"",level_akses:0};else{var t=this.listUsers.find((function(t){return t.username==e}));this.form={edit:t.username,username:t.username,nama_lengkap:t.nama_lengkap,level_akses:t.level_akses}}this.$refs["modal-add-user"].show()},simpanUser:function(){var e=this;if(""==this.form.username||""==this.form.nama_lengkap)return l.a.fire({title:"Salah!",text:"Data tidak lengkap",icon:"error",heightAuto:!1}),!1;this.$store.dispatch("saveUser",this.form).then((function(){e.$refs["modal-add-user"].hide(),l.a.fire({title:"Berhasil!",text:"User berhasil disimpan",icon:"success",heightAuto:!1})}))},hapusUser:function(e){var t=this;l.a.fire({title:"Apakah anda yakin?",text:"Data "+e+" akan dihapus permanen",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!"}).then((function(n){n.isConfirmed&&t.$store.dispatch("deleteUser",e).then((function(){l.a.fire({title:"Berhasil!",text:"User berhasil dihapus",icon:"success",heightAuto:!1})}))}))},copyTokenHarian:function(){this.$refs["input_token_harian"].focus(),this.$refs["input_token_harian"].select();try{document.execCommand("copy"),this.$bvToast.toast("Token "+this.$refs["input_token_harian"].value+" berhasil di copy",{title:"Copy Token",variant:"success",solid:!0})}catch(e){console.log("Oops, unable to copy")}},copyTokenRegister:function(){this.$refs["input_token_register"].focus(),this.$refs["input_token_register"].select();try{document.execCommand("copy"),this.$bvToast.toast("Token register berhasil di copy",{title:"Copy Token",variant:"success",solid:!0})}catch(e){console.log("Oops, unable to copy")}},copyTokenBerjangka:function(){this.timeTest(),this.$refs["input_token_berjangka"].focus(),this.$refs["input_token_berjangka"].select();try{document.execCommand("copy"),this.$bvToast.toast("Token berjangka berhasil di copy",{title:"Copy Token",variant:"success",solid:!0})}catch(e){console.log("Oops, unable to copy")}},timeTest:function(){var e=60*(new Date).getTimezoneOffset()*1e3,t=this.token.tanggal_expired_token,n=new Date(t).getTime(),a=new Date(n).toISOString(),r=new Date(n-e).toISOString(),o=Date.now(),i=new Date(o).toISOString(),s=new Date(o-e).toISOString(),l=new Date(t+":59").getTime(),u=new Date(t+":59").toISOString();console.log(t),console.log(n),console.log(a),console.log(r),console.log(o),console.log(i),console.log(s),console.log(l),console.log(u)}}},k=p,g=n("2877"),d=Object(g["a"])(k,a,r,!1,null,null,null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0c84d0.c6a3229d.js.map